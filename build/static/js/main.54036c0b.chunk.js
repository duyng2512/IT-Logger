(this["webpackJsonpit-logger"]=this["webpackJsonpit-logger"]||[]).push([[0],{18:function(e,t,a){},23:function(e,t,a){e.exports=a(38)},28:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(10),r=a.n(l),s=(a(28),a(29),a(5)),o=a.n(s),i=a(1),m=a.n(i),u=a(4),d=a(2),E=Object(d.b)(null,{searchLogs:function(e){return function(){var t=Object(u.a)(m.a.mark((function t(a){var n,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=4,fetch("/logs?q=".concat(e));case 4:return n=t.sent,t.next=7,n.json();case 7:c=t.sent,a({type:"SEARCH_LOGS",payload:c}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:"LOGS_ERROR",payload:t.t0.response.statusText});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.searchLogs,a=Object(n.useRef)();return c.a.createElement(n.Fragment,null,c.a.createElement("nav",{style:{marginBottom:"30px"},className:"blue"},c.a.createElement("div",{className:"nav-wrapper"},c.a.createElement("form",null,c.a.createElement("div",{className:"input-field"},c.a.createElement("input",{id:"search",type:"search",ref:a,onChange:function(){t(a.current.value)},placeholder:"Search logs..."}),c.a.createElement("label",{className:"label-icon",htmlFor:"search"},c.a.createElement("i",{className:"material-icons"},"search")),c.a.createElement("i",{className:"material-icons"},"close"))))))})),f=a(20),p=a.n(f),h=Object(d.b)(null,{delLogs:function(e){return function(){var t=Object(u.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.prev=1,t.next=5,fetch("/logs/".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}});case 5:a({type:"DELETE_LOG",payload:e}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:"LOGS_ERROR",payload:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},setCurrent:function(e){return function(){var t=Object(u.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"SET_CURRENT",payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.log,a=e.delLogs,l=e.setCurrent;return c.a.createElement(n.Fragment,null,c.a.createElement("li",{className:"collection-item"},c.a.createElement("a",{href:"#edit-log-modal",className:"modal-trigger ".concat(t.attention?"red-text":"blue-text"),onClick:function(){l(t)}},t.attention&&c.a.createElement("i",{className:"large material-icons",style:{fontSize:"20px"}},"announcement"),t.message),c.a.createElement("br",null),c.a.createElement("span",{className:"grey-text"},c.a.createElement("span",{className:"black-text"},"ID #",t.id)," last update by"," ",c.a.createElement("span",{className:"black-text text-darken-2",style:{fontWeight:"600"}},t.tech," on"," ",c.a.createElement(p.a,{format:"MMMM Do YYYY, h:mm:ss a"},t.date))),c.a.createElement("a",{href:"#!",className:"secondary-content",onClick:function(){a(t.id)}},c.a.createElement("i",{className:"material-icons grey-text"},"delete"))))})),g=function(){return c.a.createElement(n.Fragment,null,c.a.createElement("div",{className:"progress blue lighten-4"},c.a.createElement("div",{className:"indeterminate blue"})))},v=Object(d.b)((function(e){return{log:e.log}}),{getLogs:function(){return function(){var e=Object(u.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,fetch("/logs");case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,t({type:"GET_LOGS",payload:n}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:"LOGS_ERROR",payload:e.t0.response.statusText});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.log,a=t.logs,l=t.loading,r=e.getLogs;return Object(n.useEffect)((function(){r()}),[]),l||null===a?c.a.createElement(n.Fragment,null,c.a.createElement("h5",{className:"blue-text"},"Loading system logging data..."),c.a.createElement(g,null),c.a.createElement("div",{style:{height:"300px"}})):c.a.createElement(n.Fragment,null,c.a.createElement("div",{className:"container"},c.a.createElement("ul",{className:"collection with-header"},c.a.createElement("li",{className:"collection-header"},c.a.createElement("h4",{className:"center"},"System logs")),l||0!==a.length?a.map((function(e){return c.a.createElement(h,{key:e.id,log:e})})):c.a.createElement(n.Fragment,null,c.a.createElement("h6",{className:"center"},"Nothing to show..."),c.a.createElement(g,null)))),c.a.createElement("div",{style:{height:"200px"}}))})),b=function(){return c.a.createElement(n.Fragment,null,c.a.createElement("div",{style:{position:"absolute",bottom:"0",width:"100vw"}},c.a.createElement("footer",{className:"page-footer blue text-center"},c.a.createElement("h6",{style:{textAlign:"center"}},"\xa9 2020 Copyright "),c.a.createElement("div",{style:{height:"20px"}}))))},N=function(){return c.a.createElement("div",{className:"fixed-action-btn"},c.a.createElement("a",{href:"#add-log-modal",className:"btn-floating btn-large blue darken-2 modal-trigger"},c.a.createElement("i",{className:"large material-icons"},"add")),c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("a",{href:"#tech-list-modal",className:"btn-floating green modal-trigger"},c.a.createElement("i",{className:"material-icons"},"person"))),c.a.createElement("li",null,c.a.createElement("a",{href:"#tech-modal",className:"btn-floating grey darken-2 modal-trigger"},c.a.createElement("i",{className:"material-icons"},"person_add")))))},y=a(6),O=(a(8),function(){return function(){var e=Object(u.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("./techs");case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,t({type:"GET_TECHS",payload:n}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.response),t({type:"TECHS_ERROR",payload:e.t0.response});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()}),x=Object(d.b)((function(e){return{tech:e.tech}}),{getTechs:O})((function(e){var t=e.tech,a=t.tech,l=t.loading,r=e.getTechs;return Object(n.useEffect)((function(){r()}),[]),null===a||l?c.a.createElement("option",null,"Loading..."):null!==a&&0===a.length?c.a.createElement("option",null,"There is none technician available."):a.map((function(e){return c.a.createElement("option",{key:e.id,value:"".concat(e.firstName," ").concat(e.lastName)},e.firstName," ",e.lastName)}))})),j=Object(d.b)(null,{addLogs:function(e){return function(){var t=Object(u.a)(m.a.mark((function t(a){var n,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=4,fetch("/logs",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});case 4:return n=t.sent,t.next=7,n.json();case 7:c=t.sent,a({type:"ADD_LOG",payload:c}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:"LOGS_ERROR",payload:t.t0});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.addLogs,a=Object(n.useState)(""),l=Object(y.a)(a,2),r=l[0],s=l[1],i=Object(n.useState)(!1),m=Object(y.a)(i,2),u=m[0],d=m[1],E=Object(n.useState)(""),f=Object(y.a)(E,2),p=f[0],h=f[1],g=function(e){"msg"===e.target.name?s(e.target.value):"attention"===e.target.name?d(!u):"tech"===e.target.name&&h(e.target.value)};return c.a.createElement(n.Fragment,null,c.a.createElement("div",{id:"add-log-modal",className:"modal modal-custom"},c.a.createElement("div",{className:"modal-content"},c.a.createElement("h4",{className:"blue-text text-darken-2"},"Enter System Log"),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"input-field"},c.a.createElement("input",{type:"text",name:"msg",value:r,onChange:g}),c.a.createElement("label",{htmlFor:"msg",className:"active blue-text text-darken-2"},"Log Message"))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"input-field"},c.a.createElement("select",{name:"tech",value:p,className:"browser-default blue-text text-darken-2",onChange:g},c.a.createElement("option",{value:"",disabled:!0},"Select Technician"),c.a.createElement(x,null)))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"input-field"},c.a.createElement("p",null,c.a.createElement("label",null,c.a.createElement("input",{name:"attention",type:"checkbox",className:"filled-in blue darken-1",checked:u,value:u,onChange:g}),c.a.createElement("span",{className:"blue-text text-darken-2"},"Need attention ?"))))),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("a",{href:"#!",onClick:function(e){if(""!==r&&""!==p){var a={message:r,attention:u,tech:p,date:new Date};t(a),o.a.toast({html:"Log added by ".concat(p," !")}),h(""),s(""),d(!1)}else o.a.toast({html:"Please fill in all required fields"})},className:"modal-close waves-effect waves-blue btn blue-btn blue darken-1"},"Enter")))))})),k=Object(d.b)((function(e){return{log:e.log}}),{editLogs:function(e){return function(){var t=Object(u.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=4,fetch("/logs/".concat(e.id),{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});case 4:a({type:"UPDATE_LOG",payload:e}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a({type:"LOGS_ERROR",payload:t.t0});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},clearCurrent:function(){return function(){var e=Object(u.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CLEAR_CURRENT"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.log.current,a=e.editLogs,l=e.clearCurrent,r=Object(n.useState)(""),s=Object(y.a)(r,2),i=s[0],m=s[1],u=Object(n.useState)(!1),d=Object(y.a)(u,2),E=d[0],f=d[1],p=Object(n.useState)(""),h=Object(y.a)(p,2),g=h[0],v=h[1],b=Object(n.createRef)();Object(n.useEffect)((function(){null!==t&&(b.current.focus(),m(t.message),f(t.attention),v(t.tech))}),[t]);var N=function(e){"msg"===e.target.name?m(e.target.value):"attention"===e.target.name?f(!E):"tech"===e.target.name&&v(e.target.value)};return c.a.createElement(n.Fragment,null,c.a.createElement("div",{id:"edit-log-modal",className:"modal modal-custom"},c.a.createElement("div",{className:"modal-content"},c.a.createElement("h4",{className:"red-text text-darken-2"},"Edit System Log"),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"input-field"},c.a.createElement("input",{type:"text",name:"msg",value:i,onChange:N,ref:b}),c.a.createElement("label",{htmlFor:"msg",className:"active red-text text-darken-2"},"Log Message"))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"input-field"},c.a.createElement("select",{name:"tech",value:g,className:"browser-default red-text text-darken-2",onChange:N},c.a.createElement("option",{value:"",disabled:!0},"Select Technician"),c.a.createElement(x,null)))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"input-field"},c.a.createElement("p",null,c.a.createElement("label",null,c.a.createElement("input",{name:"attention",type:"checkbox",className:"filled-in red darken-1",checked:E,value:E,onChange:N}),c.a.createElement("span",{className:"red-text text-darken-2"},"Need attention ?"))))),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("a",{href:"#!",onClick:function(e){if(e.preventDefault(),""===i||""===g)o.a.toast({html:"Please fill in all required fields"});else{var n={message:i,attention:E,tech:g,date:new Date,id:t.id};a(n),m(""),v(""),f(!1),l()}},className:"modal-close waves-effect waves-red btn red-btn red darken-1"},"Enter")))))})),w=(a(18),Object(d.b)(null,{addTechs:function(e){return function(){var t=Object(u.a)(m.a.mark((function t(a){var n,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=4,fetch("./techs",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});case 4:return n=t.sent,t.next=7,n.json();case 7:c=t.sent,a({type:"ADD_TECH",payload:c}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0.response),a({type:"TECHS_ERROR",payload:t.t0.response});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.addTechs,a=Object(n.useState)(""),l=Object(y.a)(a,2),r=l[0],s=l[1],i=Object(n.useState)(""),m=Object(y.a)(i,2),u=m[0],d=m[1],E=function(e){"firstName"===e.target.name?s(e.target.value):"lastName"===e.target.name&&d(e.target.value)};return c.a.createElement(n.Fragment,null,c.a.createElement("div",{id:"tech-modal",className:"modal  modal-custom"},c.a.createElement("div",{className:"modal-content modal-content-custom"},c.a.createElement("h4",{className:"grey-text darken-4"},"Add New Technician"),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"input-field"},c.a.createElement("input",{type:"text",name:"firstName",value:r,onChange:E}),c.a.createElement("label",{htmlFor:"firstName",className:"active grey-text darken-4"},"First Name"))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"input-field"},c.a.createElement("input",{type:"text",name:"lastName",value:u,onChange:E}),c.a.createElement("label",{htmlFor:"msg",className:"active grey-text darken-4"},"Last Name")))),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("a",{href:"#!",onClick:function(e){""===u||""===r?o.a.toast({html:"Please fill in all required fields"}):(s(""),d(""),t({firstName:r,lastName:u}),o.a.toast({html:"".concat(r," ").concat(u," technician have been added into database")}))},className:"modal-close waves-effect waves-red btn red-btn grey darken-4 btn-custom"},"Add Technician"))))}))),T=Object(d.b)(null,{delTechs:function(e){return function(){var t=Object(u.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("DELETE"),t.prev=1,t.next=5,fetch("./techs/".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}});case 5:a({type:"DELETE_TECH",payload:e}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0.response),a({type:"TECHS_ERROR",payload:t.t0.response});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.tech.lastName,a=e.tech.firstName,l=e.tech.id,r=e.delTechs,s=function(){var e=Object(u.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.a.toast({html:"Technician information deleted"}),r(l);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(n.Fragment,null,c.a.createElement("li",{className:"collection-item"},c.a.createElement("i",{className:"small material-icons green-text"},"work"),c.a.createElement("span",{style:{fontWeight:"600"}},a," ",t),c.a.createElement("a",{href:"#!",className:"secondary-content",onClick:s},c.a.createElement("i",{className:"material-icons black-text"},"delete"))))})),C=Object(d.b)((function(e){return{tech:e.tech}}),{getTechs:O})((function(e){var t=e.tech.tech,a=e.getTechs;Object(n.useEffect)((function(){a()}),[]);return null===t?c.a.createElement(n.Fragment,null,c.a.createElement("div",{id:"tech-list-modal",className:"modal  modal-tech-custom"},c.a.createElement("div",{className:"modal-content modal-content-custom"},c.a.createElement("h4",{className:"green-text darken-4"},"Available Technician"),c.a.createElement(g,null)),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("a",{href:"#!",onClick:function(e){console.log("Close Modal")},className:"modal-close waves-effect waves-red btn green-btn green darken-4 btn-custom"},"Close")))):c.a.createElement(n.Fragment,null,c.a.createElement("div",{id:"tech-list-modal",className:"modal  modal-tech-custom"},c.a.createElement("div",{className:"modal-content modal-content-custom"},c.a.createElement("h4",{className:"green-text darken-4"},"Available Technician"),c.a.createElement("ul",{className:"collection"},t.map((function(e){return c.a.createElement(T,{key:e.id,tech:e})})))),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("a",{href:"#!",onClick:function(){return console.log("Close")},className:"modal-close waves-effect waves-red btn green-btn green darken-4 btn-custom"},"Close"))))})),L=a(7),R=a(21),S=a(22),_=a(12),D=a(3),G={logs:null,current:null,loading:!1,error:null},F={tech:null,current:null,loading:!1,error:null},A=Object(L.combineReducers)({log:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOADING":return Object(D.a)({},e,{loading:!0});case"LOGS_ERROR":return console.log(t.payload),Object(D.a)({},e,{error:t.payload});case"GET_LOGS":return Object(D.a)({},e,{logs:t.payload,loading:!1});case"ADD_LOG":return Object(D.a)({},e,{logs:[].concat(Object(_.a)(e.logs),[t.payload]),loading:!1});case"DELETE_LOG":return Object(D.a)({},e,{logs:e.logs.filter((function(e){if(e.id!==t.payload)return e})),loading:!1});case"UPDATE_LOG":return Object(D.a)({},e,{logs:e.logs.map((function(e){return e.id===t.payload.id?t.payload:e}))});case"SET_CURRENT":return Object(D.a)({},e,{current:t.payload});case"CLEAR_CURRENT":return Object(D.a)({},e,{current:null});case"SEARCH_LOGS":return Object(D.a)({},e,{logs:t.payload,loading:!1});default:return e}},tech:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOADING":return Object(D.a)({},e,{loading:!0});case"GET_TECHS":return Object(D.a)({},e,{tech:t.payload,loading:!1});case"TECHS_ERROR":return Object(D.a)({},e,{error:t.payload});case"ADD_TECH":return Object(D.a)({},e,{tech:[].concat(Object(_.a)(e.tech),[t.payload]),loading:!1});case"DELETE_TECH":return Object(D.a)({},e,{tech:e.tech.filter((function(e){return e.id!==t.payload})),loading:!1});default:return Object(D.a)({},e)}}}),H=[S.a],M=Object(L.createStore)(A,{},Object(R.composeWithDevTools)(L.applyMiddleware.apply(void 0,H)));var P=function(){return Object(n.useEffect)((function(){o.a.AutoInit()})),c.a.createElement(d.a,{store:M},c.a.createElement(n.Fragment,null,c.a.createElement(E,null),c.a.createElement(j,null),c.a.createElement(k,null),c.a.createElement(w,null),c.a.createElement(C,null),c.a.createElement(v,null),c.a.createElement(N,null),c.a.createElement(b,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,a){}},[[23,1,2]]]);
//# sourceMappingURL=main.54036c0b.chunk.js.map